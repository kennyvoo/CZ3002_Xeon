{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\CZ3002-Lab-SmartLib\\\\CZ3002_Xeon\\\\Front-End\\\\src\\\\components\\\\DrawRect.js\";\nimport React, { Component, useState, useEffect } from 'react'; // import {Line, SteppedLine, PolyLine, Circle, Rectangle} from 'draw-shape-reactjs';\n// import img from '../images/mountains1.jpg'\n// import './parentContainerCSS.css'\n\nimport img from './Img/L3C1.jpg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ParentContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.drawImage = () => {\n      console.log('im in drawImage');\n      this.backgroundImage = new Image();\n      this.backgroundImage.src = {\n        img\n      };\n\n      this.backgroundImage.onload = function () {\n        console.log('backgroundImage is loaded');\n        this.ctx.drawImage(this.backgroundImage, 0, 0);\n      };\n    };\n\n    this.init = () => {\n      this.canvas.addEventListener('mousedown', this.mouseDown, false);\n      this.canvas.addEventListener('mouseup', this.mouseUp, false);\n      this.canvas.addEventListener('mousemove', this.mouseMove, false);\n    };\n\n    this.mouseDown = e => {\n      this.rect.x = e.pageX - this.canvasX + 0;\n      this.rect.y = e.pageY - this.canvasY + 0;\n      this.rect.w = 0;\n      this.rect.h = 0;\n      this.setState({\n        point1: [this.rect.x, this.rect.y],\n        point2: [0, 0],\n        widthRect: 0,\n        heightRect: 0\n      }); // this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n\n      this.drag = true;\n    };\n\n    this.mouseUp = () => {\n      this.drag = false;\n    };\n\n    this.mouseMove = e => {\n      if (this.drag) {\n        this.rect.w = e.pageX - this.canvasX - this.rect.x;\n        this.rect.h = e.pageY - this.canvasY - this.rect.y;\n        this.setState({\n          point2: [this.rect.x + this.rect.w, this.rect.y + this.rect.h],\n          point1: [this.rect.x, this.rect.y],\n          widthRect: Math.abs(this.rect.w),\n          heightRect: Math.abs(this.rect.h)\n        });\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.draw();\n      }\n    };\n\n    this.draw = () => {\n      this.ctx.setLineDash([2]);\n      this.ctx.strokeRect(this.rect.x, this.rect.y, this.rect.w, this.rect.h);\n    };\n\n    this.state = {\n      point1: [0, 0],\n      point2: [0, 0],\n      widthRect: 0,\n      heightRect: 0\n    };\n    this.init = this.init.bind(this);\n    this.mouseDown = this.mouseDown.bind(this);\n    this.mouseUp = this.mouseUp.bind(this);\n    this.mouseMove = this.mouseMove.bind(this);\n    this.draw = this.draw.bind(this);\n    this.drawImage = this.drawImage.bind(this);\n  }\n\n  componentDidMount() {\n    this.canvas = document.getElementById('canvas');\n    this.ctx = this.canvas.getContext('2d');\n    this.rect = {};\n    this.canvasX = this.canvas.offsetLeft;\n    this.canvasY = this.canvas.offsetTop;\n    this.drag = false;\n    this.init();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"canvas\",\n        width: \"800\",\n        height: \"450\",\n        src: img,\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.drawImage,\n        children: \" Draw Image \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \" (X1, Y1): \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), \" (\", this.state.point1[0], \", \", this.state.point1[1], \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 43\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \" (X2, Y2): \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), \" (\", this.state.point2[0], \", \", this.state.point2[1], \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \" Size: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }, this), \" (\", this.state.widthRect, \"X\", this.state.heightRect, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"demo\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 18\n    }, this);\n  }\n\n}\n\nexport default ParentContainer;","map":{"version":3,"sources":["D:/Projects/CZ3002-Lab-SmartLib/CZ3002_Xeon/Front-End/src/components/DrawRect.js"],"names":["React","Component","useState","useEffect","img","ParentContainer","constructor","props","drawImage","console","log","backgroundImage","Image","src","onload","ctx","init","canvas","addEventListener","mouseDown","mouseUp","mouseMove","e","rect","x","pageX","canvasX","y","pageY","canvasY","w","h","setState","point1","point2","widthRect","heightRect","drag","Math","abs","clearRect","width","height","draw","setLineDash","strokeRect","state","bind","componentDidMount","document","getElementById","getContext","offsetLeft","offsetTop","render"],"mappings":"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","sourcesContent":["import React, {Component, useState, useEffect} from 'react'\r\n// import {Line, SteppedLine, PolyLine, Circle, Rectangle} from 'draw-shape-reactjs';\r\n// import img from '../images/mountains1.jpg'\r\n// import './parentContainerCSS.css'\r\nimport img from './Img/L3C1.jpg'\r\n\r\nclass ParentContainer extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            point1: [0, 0],\r\n            point2: [0, 0],\r\n            widthRect: 0,\r\n            heightRect: 0\r\n        }\r\n\r\n        this.init = this.init.bind(this)\r\n        this.mouseDown = this.mouseDown.bind(this)\r\n        this.mouseUp = this.mouseUp.bind(this)\r\n        this.mouseMove = this.mouseMove.bind(this)\r\n        this.draw = this.draw.bind(this)\r\n        this.drawImage = this.drawImage.bind(this)\r\n\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.canvas = document.getElementById('canvas')\r\n        this.ctx = this.canvas.getContext('2d')\r\n        this.rect = {}\r\n        this.canvasX = this.canvas.offsetLeft\r\n        this.canvasY = this.canvas.offsetTop\r\n        this.drag = false\r\n\r\n        this.init()\r\n    }\r\n\r\n    drawImage = () => {\r\n        console.log('im in drawImage')\r\n        this.backgroundImage = new Image()\r\n\r\n        this.backgroundImage.src = {\r\n            img\r\n        }\r\n\r\n        this.backgroundImage.onload = function() {\r\n            console.log('backgroundImage is loaded')\r\n            this.ctx.drawImage(this.backgroundImage, 0, 0)\r\n        }\r\n    }\r\n\r\n    init = () => {\r\n        this.canvas.addEventListener('mousedown', this.mouseDown, false)\r\n        this.canvas.addEventListener('mouseup', this.mouseUp, false)\r\n        this.canvas.addEventListener('mousemove', this.mouseMove, false)\r\n    }\r\n\r\n    mouseDown = (e) => {\r\n\r\n        this.rect.x = e.pageX - this.canvasX + 0\r\n        this.rect.y = e.pageY - this.canvasY + 0\r\n        this.rect.w = 0\r\n        this.rect.h = 0\r\n        this.setState({\r\n            point1: [this.rect.x, this.rect.y],\r\n            point2: [0, 0],\r\n            widthRect: 0,\r\n            heightRect: 0\r\n        })\r\n        // this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\r\n        this.drag = true\r\n    }\r\n\r\n    mouseUp = () => {\r\n        this.drag = false\r\n    }\r\n\r\n    mouseMove = (e) => {\r\n\r\n        if (this.drag) {\r\n            this.rect.w = (e.pageX - this.canvasX) - this.rect.x\r\n            this.rect.h = (e.pageY - this.canvasY) - this.rect.y\r\n            this.setState({\r\n                point2: [this.rect.x + this.rect.w, this.rect.y + this.rect.h],\r\n                point1: [this.rect.x, this.rect.y],\r\n                widthRect: Math.abs(this.rect.w),\r\n                heightRect: Math.abs(this.rect.h)\r\n            })\r\n            this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\r\n            this.draw()\r\n        }\r\n    }\r\n\r\n    draw = () => {\r\n        this.ctx.setLineDash([2])\r\n\r\n        this.ctx.strokeRect(this.rect.x, this.rect.y, this.rect.w, this.rect.h)\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return ( <\r\n                div >\r\n\r\n                <\r\n                    canvas id = \"canvas\"\r\n                           width = \"800\"\r\n                           height = \"450\"\r\n                           src = {\r\n                               img\r\n                           } > < /canvas>\r\n\r\n                <\r\n                    button onClick = {\r\n                    this.drawImage\r\n                } > Draw Image < /button> <\r\n                p > < strong > (X1, Y1): < /strong> ({this.state.point1[0]}, {this.state.point1[1]})</p >\r\n                <\r\n                    p > < strong > (X2, Y2): < /strong> ({this.state.point2[0]}, {this.state.point2[1]})</p >\r\n                <\r\n                    p > < strong > Size: < /strong> ({this.state.widthRect}X{this.state.heightRect})</p >\r\n                <\r\n                    p id = 'demo' > < /p>\r\n\r\n            <\r\n      /div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ParentContainer"]},"metadata":{},"sourceType":"module"}